<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StadiaStudios - Account</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="assets/websitefavicon.png"> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
        }
        .text-epic-green {
            color: #0078f2;
        }
        .bg-epic-dark {
            background-color: #121212;
        }
        .bg-epic-card {
            background-color: #202020;
        }
        .hover\:scale-105:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-epic-dark">
    <!-- Header to keep consistent navigation -->
    <header class="bg-epic-dark py-4 px-6 md:px-12 flex justify-between items-center fixed w-full z-10 top-0 left-0">
        <div class="flex items-center space-x-8">
            <a href="index.html" class="text-3xl font-bold text-white">Stadia<span class="text-[red]">Studios</span></a>
            <nav class="hidden md:flex space-x-6 text-gray-400">
                <a href="store.html" class="hover:text-white transition duration-300">Store</a>
                <a href="favorites.html" class="hover:text-white transition duration-300">Favorites</a>
                <a href="#" class="hover:text-white transition duration-300">Help</a>
            </nav>
        </div>
        <div class="flex items-center space-x-4">
            <a href="signup.html" id="account-link" class="text-gray-400 hover:text-white transition duration-300 hidden md:block">Sign In</a>
            <a href="#" id="download-navbar-btn" class="bg-epic-green text-white font-semibold py-2 px-4 rounded-lg hover:opacity-80 transition duration-300 hidden md:block">Download</a>
        </div>
        <button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-epic-dark bg-opacity-95 z-50 flex flex-col items-center justify-center space-y-8 hidden">
        <button id="close-menu-btn" class="absolute top-6 right-6 text-white text-2xl">&times;</button>
        <a href="store.html" class="w-full text-center text-2xl text-white hover:text-epic-green transition duration-300">Store</a>
        <a href="favorites.html" class="w-full text-center text-2xl text-white hover:text-epic-green transition duration-300">Favorites</a>
        <a href="#" class="w-full text-center text-2xl text-white hover:text-epic-green transition duration-300">Help</a>
        <a href="account.html" id="mobile-account-link" class="w-full text-center text-2xl text-white hover:text-epic-green transition duration-300">Account</a>
        <a href="#" id="download-mobile-btn" class="w-full text-center bg-epic-green text-white text-2xl font-semibold py-3 px-6 rounded-lg hover:opacity-80 transition duration-300">Download</a>
    </div>

    <!-- Main Account Content -->
    <main class="pt-20">
        <section class="flex items-center justify-center min-h-screen px-4 py-16">
            <div class="w-full max-w-md p-8 space-y-8 bg-epic-card rounded-xl shadow-lg">
                <div>
                    <h2 class="text-center text-3xl font-extrabold text-white">
                        Create your account
                    </h2>
                </div>
                <form id="signup-form" class="mt-8 space-y-6">
                    <div class="rounded-md shadow-sm -space-y-px">
                        <div>
                            <label for="username" class="sr-only">Username</label>
                            <input id="username" name="username" type="text" autocomplete="username" required
                                class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-500 text-white rounded-t-md focus:outline-none focus:ring-epic-green focus:border-epic-green focus:z-10 sm:text-sm bg-gray-700"
                                placeholder="Username">
                        </div>
                        <div>
                            <label for="email" class="sr-only">Email address</label>
                            <input id="email" name="email" type="email" autocomplete="email" required
                                class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-500 text-white rounded-b-md focus:outline-none focus:ring-epic-green focus:border-epic-green focus:z-10 sm:text-sm bg-gray-700 mt-4"
                                placeholder="Email address">
                        </div>
                    </div>

                    <div>
                        <button type="submit"
                            class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-epic-green hover:bg-epic-green-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epic-green transition duration-300">
                            Sign Up
                        </button>
                    </div>
                </form>
                
                <div id="user-info" class="p-4 bg-gray-800 rounded-md hidden">
                    <h3 class="text-xl font-bold text-white mb-2">Account</h3>
                    <p class="text-gray-400">Username: <span id="display-username" class="text-white font-semibold"></span></p>
                    <p class="text-gray-400">Email: <span id="display-email" class="text-white font-semibold"></span></p>
                    <div class="mt-4 flex space-x-2">
                        <button id="edit-username-btn" class="py-1 px-3 text-sm rounded-md bg-gray-600 hover:bg-gray-700 text-white transition duration-300">Edit Username</button>
                        <button id="edit-email-btn" class="py-1 px-3 text-sm rounded-md bg-gray-600 hover:bg-gray-700 text-white transition duration-300">Edit Email</button>
                        <button id="logout-btn" class="py-1 px-3 text-sm rounded-md bg-red-600 hover:bg-red-700 text-white transition duration-300">Logout</button>
                    </div>
                </div>

                <div id="message-box" class="hidden p-4 mt-4 text-sm text-center text-white rounded-md"></div>
            </div>
        </section>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const signupForm = document.getElementById('signup-form');
            const userInfoDiv = document.getElementById('user-info');
            const displayUsername = document.getElementById('display-username');
            const displayEmail = document.getElementById('display-email');
            const editUsernameBtn = document.getElementById('edit-username-btn');
            const editEmailBtn = document.getElementById('edit-email-btn');
            const logoutBtn = document.getElementById('logout-btn');
            const goHomeLink = document.querySelector('header a');

            // Function to show a message in a modal-like box
            const showMessage = (message, type = 'success') => {
                const messageBox = document.getElementById('message-box');
                messageBox.textContent = message;
                messageBox.className = 'p-4 mt-4 text-sm text-center rounded-md';
                if (type === 'success') {
                    messageBox.classList.add('bg-green-500');
                } else if (type === 'error') {
                    messageBox.classList.add('bg-red-500');
                }
                messageBox.classList.remove('hidden');

                setTimeout(() => {
                    messageBox.classList.add('hidden');
                }, 3000);
            };

            const loadUserInfo = () => {
                const storedUser = JSON.parse(localStorage.getItem('user'));
                if (storedUser) {
                    signupForm.classList.add('hidden');
                    userInfoDiv.classList.remove('hidden');
                    displayUsername.textContent = storedUser.username;
                    displayEmail.textContent = storedUser.email;
                } else {
                    signupForm.classList.remove('hidden');
                    userInfoDiv.classList.add('hidden');
                }
            };

            signupForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const email = document.getElementById('email').value;

                const user = { username, email };
                localStorage.setItem('user', JSON.stringify(user));
                showMessage('Account created successfully!', 'success');
                loadUserInfo();
            });

            editUsernameBtn.addEventListener('click', () => {
                const newUsername = prompt('Enter new username:');
                if (newUsername && newUsername.trim() !== '') {
                    const storedUser = JSON.parse(localStorage.getItem('user'));
                    storedUser.username = newUsername.trim();
                    localStorage.setItem('user', JSON.stringify(storedUser));
                    showMessage('Username updated successfully!', 'success');
                    loadUserInfo();
                } else {
                     showMessage('Username cannot be empty.', 'error');
                }
            });

            editEmailBtn.addEventListener('click', () => {
                const newEmail = prompt('Enter new email:');
                 if (newEmail && newEmail.trim() !== '') {
                    const storedUser = JSON.parse(localStorage.getItem('user'));
                    storedUser.email = newEmail.trim();
                    localStorage.setItem('user', JSON.stringify(storedUser));
                    showMessage('Email updated successfully!', 'success');
                    loadUserInfo();
                } else {
                    showMessage('Email cannot be empty.', 'error');
                }
            });

            logoutBtn.addEventListener('click', () => {
                localStorage.removeItem('user');
                showMessage('Logged out successfully!', 'success');
                loadUserInfo();
            });

            // Mobile menu logic
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeMenuBtn = document.getElementById('close-menu-btn');
            
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            });

            closeMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                document.body.style.overflow = 'auto';
            });

            window.addEventListener('resize', () => {
                if (window.innerWidth >= 768) {
                    mobileMenu.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Initial load
            loadUserInfo();
        });
    </script>
</body>
</html>
